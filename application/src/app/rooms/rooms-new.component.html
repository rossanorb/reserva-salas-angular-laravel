<app-header></app-header>
<main>
  <section class="title pad-section">
    <div class="row rooms">
      <div class="container">
        <div class="row">
          <div class="col s12">
              <h4 class="center-align">Cadastro de Sala</h4>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <form class="col s12 offset-s0 m8 offset-m2" #form_room_new="ngForm" (submit)='save(room.id)' >

              <div class="row">
                <div class="input-field">
                  <input type="text" name="sala" class="validate" [(ngModel)]="room.name" #name="ngModel" maxlength="20" required>
                  <dl class="form_validation" *ngIf="name.errors && (name.dirty || name.touched)">
                    <dt *ngIf="name.errors.required">O campo nome é obrigatório</dt>
                  </dl>
                  <label class="" for="room">Sala</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field">
                  <input type="text" name="numero" class='validate' [(ngModel)]="room.number"  #number="ngModel" maxlength="10" (keyup)="validateNumber()" required>                  
                  <dl class="form_validation" *ngIf="number.errors && (number.dirty || number.touched)">
                    <dt *ngIf="number.errors.required">O campo número da sala é obrigatório</dt>                    
                  </dl>

                  <dl class="form_validation" *ngIf="number.touched">
                    <dt *ngIf="this.valid_number">O campo deve conter somente números</dt>
                  </dl>

                  <label class="" for="number">Número da Sala</label>
                </div>
              </div>

              <div class="row">
                  <div class="input-field col s12 m6 l6">                                    
                      <button type='submit' name='btn_salvar' class='btn_salvar btn waves-effect indigo'
                      [disabled]="!form_room_new.valid || this.valid_number"
                      >Salvar</button>
                  </div>
                  <div class="input-field col s12 m6 l6">
                      <a  [routerLink]="['/rooms']" class='btn_voltar btn waves-effect pink'>Voltar</a>
                  </div>                                    
              </div>              

            </form>
          </div>
          <div class="col s12">
            <app-toast></app-toast>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>